/*
 * This file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Kotlin application project to get you started.
 */

plugins {
    id 'java'
    id 'org.jetbrains.kotlin.multiplatform' version '1.4.10'
}

repositories {
    mavenCentral()
}




kotlin {
    jvm {

    }

    sourceSets {
        jvmMain {
            dependencies {
                implementation 'com.github.oc-soft:oc-matrix-jvm:0.1.2'
                implementation 'com.github.oc-soft:oc-path-jvm:0.1.3'
                implementation kotlin('stdlib') 
            }
        }
    }
}



task createFigureForDoc(type: JavaExec) {
    def target = kotlin.targets.jvm
    def compilation = target.compilations.main


    classpath = files(compilation.runtimeDependencyFiles,
        compilation.output.allOutputs)
    
    // def target = kotlin.target.jvm
    // classpath = target.compilations.main.runtimeDependencyFiles
    main = 'net.oc_soft.gen.img.SvgKt'
    args = ['-f', 'imgen.json' ]
}

task resolveEllipseCenter(type: JavaExec) {
    def target = kotlin.targets.jvm
    def compilation = target.compilations.main

    classpath = files(compilation.runtimeDependencyFiles,
        compilation.output.allOutputs)
    
    args = ['-f', 'elli-param-1.json' ]
    main = 'net.oc_soft.geom.EllipseCenterKt'
}


createFigureForDoc.description = 'generate figure for document' 
createFigureForDoc.group = 'Documentation'
createFigureForDoc.dependsOn jvmJar

resolveEllipseCenter.description = 'resolve ellipse center from two points on ellipse.'
resolveEllipseCenter.group = 'Calculation'
resolveEllipseCenter.dependsOn jvmJar

/* vi: se ts=4 sw=4 et: */
